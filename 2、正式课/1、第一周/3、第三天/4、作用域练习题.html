<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // function fn() {
        //     var n = 0; // 1 2
        //     function f() {
        //         var b = 13;
        //         n++;
        //         console.log(n); // 1 2
        //     };
        //     f();
        //     return f; // aaafff000
        // };
        // var r = fn(); // var f = aaafff000
        // r();
        // r();
        // r();

        // 函数执行会形成私有作用域，当私有作用域形成的一瞬间，他可以保护里边的变量不受外界干扰

        // 函数执行形成不销毁的作用域，他可以保护里边的变量不受外界干扰，还能保存值这种机制就是闭包



        // var i = 5;
        // function fn(i) { 
        //     /* 
        //     i = 1 2 3
        //     */
        //     return function (n) { 
        //         console.log(n + (++i)); 
        //     }
        // }
        // var f = fn(1);
        // f(2); // 4
        // fn(3)(4); // 8
        // fn(5)(6); // 12
        // f(7); // 10
        // console.log(i); // 5



        // function fn(n) { // 7 8 9

        //     return function (m) {
        //         console.log(m + (n++))
        //     }
        // }
        // var f = fn(7);
        // f(5); // 12
        // f(6); // 14
        // fn(1)(2); // 3
        // fn(3)(4); // 7



        // var num = 1;
        // var obj = {
        //     num: 10,
        //     fn: (function (num) { // 1  2 3 4 5 6
        //         /* 
                
        //         */
        //         var num = 2;
        //         return function (n) { // 40
        //             console.log(n * (num++));
        //         }
        //     })(num)
        // }
        // var f = obj.fn; // aaafff000
        // console.log(f === obj.fn) // true
        // f(10); // 20
        // f(20); // 60
        // obj.fn(30); // 120
        // obj.fn(40);// 200



        // var a = 9; // 0 1 0 1  2
        // function fn() {
        //     /* 
        //      */
        //     a = 0;
        //     return function (b) { 
        //         return b + a++;
        //     }
        // }
        // var f = fn(); // aaafff000
        // var m = f(5); // 5
        // alert(m); // 5
        // var n = fn()(5);
        // alert(n); // 5
        // var x = f(5);
        // alert(x); // 6
        // alert(a); // 2

    
    </script>
</body>

</html>